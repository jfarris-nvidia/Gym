math_formal_lean:
  resources_servers:
    math_formal_lean:
      entrypoint: app.py
      sandbox_host: ${oc.env:NEMO_SKILLS_SANDBOX_HOST,127.0.0.1}
      sandbox_port: ${oc.env:NEMO_SKILLS_SANDBOX_PORT,6000}
      compilation_timeout: 30.0
      domain: math
      verified: false
      description: Lean4 formal proof verification environment with multi-turn self-correction
      value: Improve formal theorem proving capabilities

# Proof refinement agent with multi-turn self-correction
math_formal_lean_refinement_agent:
  responses_api_agents:
    proof_refinement_agent:
      entrypoint: app.py
      resources_server:
        type: resources_servers
        name: math_formal_lean
      model_server:
        type: responses_api_models
        name: policy_model
      # Agent controls the retry loop
      max_correction_turns: 2
      # Include all attempts in output (for training data)
      include_all_attempts: true
      datasets:
      - name: train
        type: train
        jsonl_fpath: resources_servers/math_formal_lean/data/minif2f_test.jsonl
        license: MIT
      - name: example
        type: example
        jsonl_fpath: resources_servers/math_formal_lean/data/minif2f_test.jsonl
